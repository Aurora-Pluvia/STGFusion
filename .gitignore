# -------------------------- 核心规则：只允许 .py 源码文件 --------------------------
# 1. 先排除所有文件（基础规则，后续白名单覆盖）
*
# 2. 白名单：允许所有 .py 源码文件（包括子目录下的）
!*.py
# 3. 白名单：允许空目录（如果项目有需要保留的空文件夹，需加这行，否则空目录不会被提交）
!*/
# 4. 白名单：允许 __init__.py（包的标识文件，已被 !*.py 覆盖，但单独列出更清晰）
!__init__.py

# -------------------------- 排除“假 .py 文件”（非源码） --------------------------
# 排除 Python 编译字节码（避免误提交 .pyc/.pyo 等）
__pycache__/
*.py[cod]
*$py.class
# 排除 SageMath 生成的 .py 文件（非手动编写的源码）
*.sage.py

# -------------------------- 排除绝对不能提交的冗余文件 --------------------------
# 虚拟环境（体积大、跨环境不兼容）
.env
.venv
env/
venv/
ENV/
env.bak/
venv.bak/
# 数据库文件（数据冲突+泄露风险）
*.sqlite3
*.sqlite3-journal
# 日志/临时文件
*.log
*.tmp
*.swp  # Vim 临时文件
# 打包/构建目录（无源码价值）
build/
dist/
*.egg-info/
# 环境变量/敏感配置（避免泄露密码、密钥）
.env
.env.local
.local_settings.py

# -------------------------- 可选：允许必要的辅助文件（按需开启） --------------------------
# 若需要提交 README.md（项目说明），取消下面注释
#!README.md
#!README.rst
# 若需要提交依赖清单（让他人重建环境），取消下面注释
#!requirements.txt
#!Pipfile
#!Pipfile.lock
# 若需要提交许可证文件，取消下面注释
#!LICENSE